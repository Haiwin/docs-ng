<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Couchbase Server documentation"><title>Caching layer</title><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><link rel="stylesheet" href="//yandex.st/highlightjs/8.0/styles/default.min.css"><script src="//yandex.st/highlightjs/8.0/highlight.min.js"></script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700" rel="stylesheet" type="text/css"><link href="/assets-dita/css/base.css" rel="stylesheet"><script src="/assets-dita/js/main.js"></script></head><body><header class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><a class="navbar-brand" href="http://www.couchbase.com/"><img src="/assets-dita/images/cb-icon-sofa.png" class="logo"></a><a class="navbar-brand" style="color:#000552;" href="/">Couchbase
								Documentation <small>beta</small></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="/">Docs Home</a></li><li><a href="/archive-index">Docs Archive</a></li></ul></div></div></header><div id="content" class="container"><div class="row"><nav class="col-md-3"><div class="well"><ul class="nav nav-list list-group"><li><a href="../Couchbase-intro.html">Introduction</a></li><li><a href="../Whats-new-3.0.html">What's new in 3.0</a></li><li><a href="../install-intro.html">Installation and upgrade</a></li><li><a href="../admin-intro.html">Administration</a><ul class="nav nav-list"><li><a href="../Misc/admin-basics.html">Administration basics</a></li><li><a href="../Concepts/concept-intro.html">Architecture and concepts</a><ul class="nav nav-list"><li><a href="../Concepts/concept-clusterMgr.html">Cluster Manager</a></li><li><a href="../Concepts/concept-dataStorage.html">Data storage</a></li><li><a href="../Concepts/concept-ramQuota.html">RAM quotas</a></li><li><a href="../Concepts/concept-vBucket.html">vBuckets</a></li><li class="active"><a href="../Concepts/concept-cacheLayer.html">Caching layer</a><ul class="nav nav-list"></ul></li><li><a href="../Concepts/concept-diskStorage.html">Disk storage</a></li><li><a href="../Concepts/global-thread-pool.html">Shared thread pool</a></li><li><a href="../Concepts/bucket-priority.html">Disk I/O priority</a></li><li><a href="../Concepts/bucket-eviction.html">Tunable memory</a></li><li><a href="../Concepts/concept-docExpiration.html">Expiration</a></li><li><a href="../Concepts/concept-serverWarmup.html">Server warmup</a></li><li><a href="../Concepts/concept-replication.html">Replicas and replication</a></li><li><a href="../Concepts/concepts-TAP.html">TAP</a></li><li><a href="../Concepts/dcp.html">Database Change Protocol</a></li><li><a href="../Concepts/concept-client-interface.html">Client interface</a></li><li><a href="../Concepts/concepts-statsMonitor.html">Statistics and monitoring</a></li></ul></li><li><a href="../Concepts/bp-deployment-considerations.html">Deployment considerations</a></li><li><a href="../Tasks/cluster-management.html">Cluster management</a></li><li><a href="../Monitoring/monitor-intro.html">Monitoring</a></li><li><a href="../Views/views-intro.html">Views and indexes</a></li><li><a href="../XDCR/xdcr-intro.html">Cross Datacenter Replication (XDCR)</a></li><li><a href="../UI/ui-intro.html">Web console</a></li><li><a href="../Misc/faq.html">FAQs</a></li><li><a href="../Misc/sample-bucket-intro.html">Sample buckets</a></li><li><a href="../Misc/Trbl-intro.html">Troubleshooting</a></li><li><a href="../Misc/deprecated.html">Deprecated items</a></li></ul></li><li><a href="../cli-intro.html">CLI reference</a></li><li><a href="../rest-intro.html">REST API reference</a></li><li><a href="../rel-notes/rel-notes3.0.html">Release notes</a></li></ul></div></nav><main class="col-md-9"><div class="gcse-wrapper"><div class="gcse-search"></div></div>
  <h1 class="title topictitle1">Caching layer</h1>

  
  <div class="body"><p class="shortdesc">Couchbase Server includes a built-in caching layer which 
    acts as a central part of the server and provides very rapid reads and writes of data.</p>

    
    <p class="p">Couchbase Server automatically manages the caching layer and coordinates with
      disk space to ensure that enough cache space exists to maintain performance. Couchbase Server
      automatically places items that come into the caching layer into disk queue so that it can
      write these items to disk. If the server determines that a cached item is infrequently used,
      it removes it from RAM to free space for other items. Similarly the server retrieves
      infrequently-used items from disk and stores them into the caching layer when the items are
      requested. In order to provide the most frequently-used
      data while maintaining high performance, Couchbase Server manages a <em class="ph i">working set</em> of your
      entire information. The working set is the data most frequently accessed and is kept
      in RAM for high performance.</p>

    <p class="p">Couchbase automatically moves data from RAM to disk asynchronously, in the background, 
      to keep frequently used information in memory and less frequently used data on disk.
      Couchbase constantly monitors the information accessed by clients and decides how to keep the
      active data within the caching layer. Data is ejected to disk from memory 
      while the server continues to service active requests. During sequences of high writes to the
      database, clients are notified that the server is temporarily out of memory until enough
      items have been ejected from memory to disk. The asynchronous nature and use of queues in this
      way enables reads and writes to be handled at a very fast rate, while removing the typical
      load and performance spikes that would otherwise cause a traditional RDBMS to produce erratic
      performance.</p>

    <p class="p">When the server stores data on disk and a client requests the data, an individual
      document ID is sent and then the server determines whether the information exists or not. Couchbase Server
      does this with metadata structures. The metadata holds information about each
      document in the database and this information is held in RAM. This means that the server 
      returns a ‘document ID not found’ response for an invalid document ID, 
      returns the data from RAM, or returns the data after being fetched from disk.</p>

    
    <div class="note note"><span class="notetitle">Note:</span> Other database solutions read and write data from disk, which results in much slower performance.
      One approach used by other database solutions is to install and manage a caching layer as a separate component
      which works with a database. This approach has drawbacks because of the significant custom code and effort 
      due to the burden of managing the caching layer and the data transfers between the caching layer and database.</div>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Concepts/concept-intro.html" title="Couchbase Server concepts include the differenct components and systems that make up an individual Couchbase Server instance and a Couchbase cluster including information and concepts needed to understand the fast and elastic nature, high availability, and high performance of the Couchbase Server database.">Architecture and concepts</a></div>
</div>
</div></main></div></div><footer><div class="navbar navbar-default navbar-fixed-bottom"><div class="container"><div class="copyright"> © 2014 COUCHBASE All rights reserved. </div></div></div></footer><script type="text/javascript" src="https://www.google.com/jsapi"></script><script>
					(function() {
					var cx = '018016427239405524608:fkg1v30apnm';
					var gcse = document.createElement('script');
					gcse.type = 'text/javascript';
					gcse.async = true;
					gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					'//www.google.com/cse/cse.js?cx=' + cx;
					var s = document.getElementsByTagName('script')[0];
					s.parentNode.insertBefore(gcse, s);
					})();
				</script></body></html>