<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Couchbase Server product documentation"><style>
					body{
						padding-top:40px; /* make the container go all the way to the bottom of the top bar */
					}</style><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet"><script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.js"></script><link rel="stylesheet" href="//yandex.st/highlightjs/8.0/styles/default.min.css"><script src="//yandex.st/highlightjs/8.0/highlight.min.js"></script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700" rel="stylesheet" type="text/css"><link href="/assets-dita/css/base.css" rel="stylesheet"><script src="/assets-dita/js/main.js"></script></head><body><header class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container-fluid container"><a class="brand" href="http://www.couchbase.com/"><img src="/assets-dita/images/cb-icon-sofa.png" class="logo"></a><a class="brand" style="color:#000552;" href="/">Couchbase Documentation <small>beta</small></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/">Docs Home</a></li><li><a href="/archive-index">Docs Archive</a></li></ul></div></div></div></header><div id="content" class="container-fluid container"><div class="row-fluid"><nav class="span3"><div class="well"><ul class="nav nav-list"><li><a href="../beta-intro.html">Couchbase 3.0 beta introduction</a></li><li><a href="../Features/features.html">Couchbase 3.0 Features</a><ul class="nav nav-list"><li><a href="../Features/bcp.html">Database Change Protocol</a></li><li><a href="../Features/global-thread-pool.html">Shared thread pool</a></li><li class="active"><a href="../Features/bucket-eviction.html">Metadata ejection</a><ul class="nav nav-list"><li><a href="../Features/ui-task-bucket-metadata-ejection.html">Ejecting metadata (UI)</a></li><li><a href="../CLI/CBcli/cbcli-bucket-metadata-ejection.html">Ejecting metadata (CLI)</a></li><li><a href="../REST/rest-bucket-metadata-ejection.html">Ejecting metadata (REST API)</a></li></ul></li><li><a href="../Features/bucket-priority.html">Disk I/O priority</a></li><li><a href="../Features/graceful-failover.html">Graceful failover</a></li><li><a href="../Features/delta-node-recovery.html">Delta node recovery</a></li><li><a href="../Features/increment-backup.html">Incremental backup and restore</a></li><li><a href="../Features/index-updates.html">Stream-based views</a></li><li><a href="../Features/xdcr-memory-replication.html">Stream-based XDCR</a></li><li><a href="../Features/security-admin-access.html">Encrypted admin access</a></li><li><a href="../Features/security-clientServer-comm.html">Encrypted data access</a></li><li><a href="../Features/security-client-ssl.html">Configuring clients for SSL</a></li><li><a href="../Features/cluster-wide-info-intro.html">Cluster-wide diagnostics</a></li></ul></li><li><a href="../install-intro.html">Couchbase Installation</a></li><li><a href="../admin-intro.html">Couchbase Administration</a></li><li><a href="../cli-intro.html">Couchbase CLI</a></li><li><a href="../rest-intro.html">Couchbase REST API</a></li><li><a href="../rel-notes/rel-notes3.0beta.html">Release notes (beta)</a></li></ul></div></nav><main class="span9">
 <h1 class="title topictitle1">Metadata ejection</h1>

 
 <div class="body conbody"><p class="shortdesc">Metadata ejection specify whether value-only or full metadata is ejected from memory.</p>

  
  
  <p class="p">Metadata ejection allows both value and full bucket ejection from memory. 
   The following summarizes the behavior of value versus full bucket ejection:
   Value bucket ejection (the default) removes the data but keeps all keys and metadata in memory. 
   When the value bucket ejection occurs, the item's value is reset. 
   Full-bucket ejection removes all data including keys, metadata, and key-values, thus,  
   reducing the RAM requirement for large buckets.</p>

  
  <p class="p">Full-bucket ejection supports very large data footprints (a large number of datasets or items/keys) 
   since the working sets in memory are smaller. 
   The smaller working sets allow efficient cache management and reduced warmup times.  
   Metadata ejection is configured at the bucket-level.
   </p>

  
  <p class="p">For example, if your environment needs to store huge amounts of data (for example, tera or peta bytes), 
  then you might want to enable metadata ejection on that bucket so that you are not 
  limited by memory.</p>

  
  
  

  

  <div class="section"><h2 class="title sectiontitle">Impacted documentation</h2>
   <ul class="ul">
    <li class="li">Views and stored data &gt; Document metadata</li>

    <li class="li">Warm up operations</li>

    <li class="li">Global thread pool</li>

    <li class="li">Ejection and working set management</li>

    <li class="li">Other ejection from hitting thresholds</li>

   </ul>

  </div>

  
  
  <div class="section"><h2 class="title sectiontitle">Backward compatibility</h2>
   <p class="p">In previous releases, the values for all active data sets are ejected and the metadata + key are not ejection. 
    In version 3.0, both value and metadata+key are ejected.</p>


  </div>
 
  

  
  
 </div>

 
 <div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../Features/ui-task-bucket-metadata-ejection.html">Ejecting metadata (UI)</a></strong><br>
The type of bucket eviction from memory is set when creating or editing the bucket properties.</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBcli/cbcli-bucket-metadata-ejection.html">Ejecting metadata (CLI)</a></strong><br>
Bucket ejection from memory is set with the <samp class="ph codeph">couchbase-cli</samp>     tool.</li>
<li class="link ulchildlink"><strong><a href="../REST/rest-bucket-metadata-ejection.html">Ejecting metadata (REST API)</a></strong><br>
Bucket ejection from memory is set with <samp class="ph codeph">POST     pools/default/buckets/default</samp>.</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Features/features.html">Couchbase 3.0 Features</a></div>
</div>

<div class="linklist linklist"><strong>Related topics</strong><br>

<div><a class="link" href="../CLI/CBcli/cbcli-buckets.html" title="Buckets are managed with the couchbase-cli tool and the bucket-* commands.">Buckets CLI</a></div>
<div><a class="link" href="../REST/rest-bucket-intro.html" title="The bucket management and configuration REST API endpoints provide a fine level of control over the individual buckets in the cluster, their configuration, and specific operations.">Buckets REST API</a></div></div>
</div>
</main></div></div><footer><div class="navbar navbar-fixed-bottom"><div class="navbar-inner"><div class="container-fluid container"><div class="copyright">
								Â© 2014 COUCHBASE All rights reserved.
							</div></div></div></div></footer></body></html>