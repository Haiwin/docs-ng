<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Couchbase Server product documentation"><style>
					body{
						padding-top:40px; /* make the container go all the way to the bottom of the top bar */
					}</style><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet"><script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.js"></script><link rel="stylesheet" href="//yandex.st/highlightjs/8.0/styles/default.min.css"><script src="//yandex.st/highlightjs/8.0/highlight.min.js"></script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700" rel="stylesheet" type="text/css"><link href="../css/base.css" rel="stylesheet"><script src="../js/main.js"></script></head><body><header class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container-fluid container"><a class="brand" href="http://www.couchbase.com/"><img src="../images/cb-icon-sofa.png" class="logo"></a><a class="brand" style="color:#000552;" href="/">Couchbase Documentation <small>beta</small></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/">Docs Home</a></li><li><a href="/archive-index.html">Docs Archive</a></li></ul></div></div></div></header><div id="content" class="container-fluid container"><div class="row-fluid"><nav class="span3"><div class="well"><ul class="nav nav-list"><li><a href="../beta-intro.html">Couchbase 3.0 beta introduction</a></li><li><a href="../Features/features.html">Couchbase 3.0 Features</a></li><li><a href="../install-intro.html">Couchbase Installation</a></li><li><a href="../admin-intro.html">Couchbase Administration</a></li><li><a href="../cli-intro.html">Couchbase CLI</a><ul class="nav nav-list"><li><a href="../CLI/cli-overview.html">Command-line interface overview</a></li><li><a href="../CLI/cbanalyze-core_tool.html">cbanalyze-core tool</a></li><li><a href="../CLI/cbbackup_tool.html">cbbackup tool</a></li><li><a href="../CLI/cbcli-intro.html">couchbase-cli tool</a></li><li><a href="../CLI/cbcollect_info_tool.html">cbcollect_info tool</a></li><li><a href="../CLI/cbdocloader_tool.html">cbdocloader tool</a></li><li><a href="../CLI/cbepctl-intro.html">cbepctl tool</a></li><li><a href="../CLI/cbhealthchecker_tool.html">cbhealthchecker tool</a></li><li><a href="../CLI/cbreset_password_tool.html">cbreset_password tool</a></li><li><a href="../CLI/cbrestore_tool.html">cbrestore tool</a></li><li class="active"><a href="../CLI/cbstats-intro.html">cbstats tool</a><ul class="nav nav-list"><li><a href="../CLI/CBstats/cbstats-available.html">Available stats</a></li><li><a href="../CLI/CBstats/cbstats-checkpoint.html">Checkpoint stats</a></li><li><a href="../CLI/CBstats/cbstats-dispatcher-job.html">Dispatcher stats and job logs</a></li><li><a href="../CLI/CBstats/cbstats-generalform.html">General form</a></li><li><a href="../CLI/CBstats/cbstats-gettingservertiming.html">Getting server timings</a></li><li><a href="../CLI/CBstats/cbstats-gettingTAPinfo.html">Getting TAP information</a></li><li><a href="../CLI/CBstats/cbstats-gettingwarmupinfo.html">Getting warmup information</a></li><li><a href="../CLI/CBstats/cbstats-hash.html">Hash stats</a></li><li><a href="../CLI/CBstats/cbstats-keyvkey.html">Stats key and Vkey</a></li><li><a href="../CLI/CBstats/cbstats-kv.html">KV store stats</a></li><li><a href="../CLI/CBstats/cbstats-memory.html">Memory stats</a></li><li><a href="../CLI/CBstats/cbstats-pendingvbucket.html">Pending vBucket stats</a></li><li><a href="../CLI/CBstats/cbstats-replicavbucket.html">Replica vBucket stats</a></li><li><a href="../CLI/CBstats/cbstats-reset.html">Stats reset</a></li><li><a href="../CLI/CBstats/cbstats-tap.html">Tap stats</a></li><li><a href="../CLI/CBstats/cbstats-timing.html">Timing stats</a></li><li><a href="../CLI/CBstats/cbstats-toplevelstats.html">Toplevel stats</a></li><li><a href="../CLI/CBstats/cbstats-totalvbucket.html">vBucket total stats</a></li><li><a href="../CLI/CBstats/cbstats-readwrite.html">Read-write thread stats</a></li><li><a href="../CLI/CBstats/cbstats-warmup.html">Warmup</a></li></ul></li><li><a href="../CLI/cbtransfer_tool.html">cbtransfer tool</a></li><li><a href="../CLI/cbworkloadgen_tool.html">cbworkloadgen tool</a></li></ul></li><li><a href="../rest-intro.html">Couchbase REST API</a></li><li><a href="../rel-notes/rel-notes3.0beta.html">Release notes (beta)</a></li></ul></div></nav><main class="span9">
	<h1 class="title topictitle1">cbstats tool</h1>

	<div class="body">
		<p class="p">You use the <samp class="ph codeph">cbstats</samp> tool to get node- and cluster-level statistics about
			performance and items in storage. The tool can be found in the following locations,
			depending on your platform:</p>

		
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				
				
				<thead class="thead" align="left">
					<tr class="row">
						<th class="entry" valign="top" id="d37832e30"><strong class="ph b">Linux</strong></th>

						<th class="entry" valign="top" id="d37832e34"><samp class="ph codeph">/opt/couchbase/bin/cbstats</samp></th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry" valign="top" headers="d37832e30 "><strong class="ph b">Windows</strong></td>

						<td class="entry" valign="top" headers="d37832e34 "><samp class="ph codeph">C:\Program&nbsp;Files\Couchbase\Server\bin\cbstats.exe</samp></td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" headers="d37832e30 "><strong class="ph b">Mac OS X</strong></td>

						<td class="entry" valign="top" headers="d37832e34 "><samp class="ph codeph">/Applications/Couchbase&nbsp;Server.app/Contents/Resources/couchbase-core/bin/cbstats</samp></td>

					</tr>

				</tbody>

			</table>
</div>

		<p class="p"><strong class="ph b">Be aware that this tool is a per-node, per-bucket operation.</strong> That means that if
			you want to perform this operation, you must specify the IP address of a node in the
			cluster and a named bucket. If you do not provided a named bucket, the server will apply
			the setting to any default bucket that exists at the specified node. If you want to
			perform this operation for an entire cluster, you will need to perform the command for
			every node/bucket combination that exists for that cluster.</p>

		<p class="p">Use this tool to get the couchbase node statistics. The general format for the command
			is:</p>

		<pre class="pre codeblock"><samp class="ph codeph">&gt; cbstats &lt;IP&gt;:11210 &lt;command&gt; -b &lt;bucket_name&gt; [-p &lt;bucket_password&gt;]
</samp></pre>

		<p class="p">Where <samp class="ph codeph">BUCKET_HOST</samp> is the hostname and port (
				<samp class="ph codeph">HOSTNAME[:PORT]</samp> ) combination for a Couchbase bucket, and
				<samp class="ph codeph">username</samp> and <samp class="ph codeph">password</samp> are the authentication for
			the named bucket. <samp class="ph codeph">COMMAND</samp> (and <samp class="ph codeph">[options]</samp> ) are one of
			the follow options:</p>

		<pre class="pre codeblock"><samp class="ph codeph">all
allocator
checkpoint [vbid]
dispatcher [logs]
hash [detail]
items
kvstore
kvtimings
raw argument
reset
slabs
tap [username password]
tapagg
timings
vkey keyname vbid
</samp></pre>

		<p class="p">From these options, <samp class="ph codeph">all</samp> and <samp class="ph codeph">timings</samp> will be the main
			ones you will use to understand cluster or node performance. The other options are used
			by Couchbase internally and to help resolve customer support incidents.</p>

		<p class="p">For example, the <samp class="ph codeph">cbstats</samp> output can be used with other command-line
			tools to sort and filter the data.</p>

		<pre class="pre codeblock"><samp class="ph codeph">&gt; watch --diff "cbstats \
    ip-10-12-19-81:11210 -b bucket_name -p bucket_password all | egrep 'item|mem|flusher|ep_queue|bg|eje|resi|warm'"
</samp></pre>

	</div>

	<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-available.html">Available stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-checkpoint.html">Checkpoint stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-dispatcher-job.html">Dispatcher stats and job logs</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-generalform.html">General form</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-gettingservertiming.html">Getting server timings</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-gettingTAPinfo.html">Getting TAP information</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-gettingwarmupinfo.html">Getting warmup information</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-hash.html">Hash stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-keyvkey.html">Stats key and Vkey</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-kv.html">KV store stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-memory.html">Memory stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-pendingvbucket.html">Pending vBucket stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-replicavbucket.html">Replica vBucket stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-reset.html">Stats reset</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-tap.html">Tap stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-timing.html">Timing stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-toplevelstats.html">Toplevel stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-totalvbucket.html">vBucket total stats</a></strong><br>
</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-readwrite.html">Read-write thread stats</a></strong><br>
The <samp class="ph codeph">cbstats</samp> tools provides the status of read-write threads for buckets.</li>
<li class="link ulchildlink"><strong><a href="../CLI/CBstats/cbstats-warmup.html">Warmup</a></strong><br>
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../cli-intro.html">Couchbase CLI</a></div>
</div>

<div class="linklist linklist"><strong>Related topics</strong><br>

<div><a class="link" href="../Monitoring/monitor-statistics.html" title="Couchbase Server provides statistics at multiple levels throughout the cluster.">Couchbase Server statistics</a></div></div>
</div>
</main></div></div><footer><div class="navbar navbar-fixed-bottom"><div class="navbar-inner"><div class="container-fluid container"><div class="copyright">
								© 2014 COUCHBASE All rights reserved.
							</div></div></div></div></footer></body></html>