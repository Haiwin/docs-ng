<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Couchbase Server documentation"><title>Release notes</title><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><link rel="stylesheet" href="//yandex.st/highlightjs/8.0/styles/default.min.css"><script src="//yandex.st/highlightjs/8.0/highlight.min.js"></script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700" rel="stylesheet" type="text/css"><link href="/assets-dita/css/base.css" rel="stylesheet"><script src="/assets-dita/js/main.js"></script></head><body><header class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><a class="navbar-brand" href="http://www.couchbase.com/"><img src="/assets-dita/images/cb-icon-sofa.png" class="logo"></a><a class="navbar-brand" style="color:#000552;" href="/">Couchbase
								Documentation <small>beta</small></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="/">Docs Home</a></li><li><a href="/archive-index">Docs Archive</a></li></ul></div></div></header><div id="content" class="container"><div class="row"><nav class="col-md-3"><div class="well"><ul class="nav nav-list list-group"><li><a href="../Couchbase-intro.html">Introduction</a></li><li><a href="../Whats-new-3.0.html">What's new in 3.0</a></li><li><a href="../install-intro.html">Installation and upgrade</a></li><li><a href="../admin-intro.html">Administration</a></li><li><a href="../cli-intro.html">CLI reference</a></li><li><a href="../rest-intro.html">REST API reference</a></li><li class="active"><a href="../rel-notes/rel-notes3.0.html">Release notes</a><ul class="nav nav-list"></ul></li></ul></div></nav><main class="col-md-9"><div class="gcse-wrapper"><div class="gcse-search"></div></div>
  <h1 class="title topictitle1">Release notes</h1>

  <div class="body">
    <p class="p">This release note is for the 3.0.0 release. It contains a list of known and fixed issues.</p>


    <p class="p">Couchbase Server 3.0 is our major release which extends our lead as the most performant and
      scalable NoSQL database for mission critical enterprise applications. In addition to adding
      great new functionality for the enterprise, 3.0 delivers many new features that make it easier
      for developers and administrators to work with Couchbase Server, making it the best choice for
      your NoSQL projects.</p>

    
    <p class="p">The major new enhancements and features available in Couchbase Server 3.0 include: </p>

    
    <ul class="ul">
      
      <li class="li"><strong class="ph b">Performance and scale</strong> <p class="p">Run at planet scale with more data, faster I/O and improved
          indexing.</p>

        <ul class="ul">
          <li class="li">Tunable memory allows you to configure memory to optimize metadata, data caching and
            eviction strategies, allowing configurations ranging from full in-memory database to
            large disk-based datasets.</li>

          <li class="li">Shared thread pool per node delivers high I/O throughput and low latency for data
            reads, writes and other operations such as database warm-up.</li>

          <li class="li">Stream-based views based on Database Change Protocol (DCP), a new streaming protocol,
            reduces latency for view updates, providing faster view consistency and fresher
            data.</li>

        </ul>

        <p class="p">For more information, see:</p>

        <ul class="ul">
          <li class="li"><a class="xref" href="../Concepts/dcp.html" title="Database Change Protocol (DCP) is the protocol used to stream data changes to buckets.">Database Change Protocol (DCP)</a> concepts.</li>

          <li class="li"><a class="xref" href="../Concepts/global-thread-pool.html" title="A shared thread pool is a collection of threads which are shared across multiple buckets.">Shared thread pool</a> concepts, <a class="xref" href="../UI/ui-dcp-queues.html" title="DCP queues provide information about the Database Change Protocol (DCP) protocol used to stream data changes to buckets.">Viewing DCP queues</a> via the web console, and <a class="xref" href="../CLI/cli-cbstats-dcp.html" title="Statistics for Database Change Protocol (DCP) are obtained via the CLI with the cbstats tool.">DCP statistics</a> via the CLI.</li>

          <li class="li"><a class="xref" href="../Concepts/bucket-eviction.html" title="Tunable memory allows both value-only ejection and full metadata ejection from memory.">Tunable memory</a> concepts, <a class="xref" href="../UI/ui-task-bucket-metadata-ejection.html" title="Tuning memory to retain or eject metatdata is set when creating or editing the bucket properties.">Managing metadata in memory</a> via the web console, <a class="xref" href="../CLI/CBcli/cbcli-bucket-metadata-ejection.html" title="Bucket ejection from memory is set with couchbase-cli tool.">Setting metadata ejection policy</a> via the CLI, and <a class="xref" href="../REST/rest-bucket-metadata-ejection.html" title="Bucket ejection from memory is set with POST pools/default/buckets/default.">Setting metadata ejection</a> via the REST API.</li>

          <li class="li"><a class="xref" href="../Views/views-index-updates.html" title="Stream-based views reduce latency for view updates, providing faster view consistency and fresher data.">Stream-based views</a>concepts.</li>

        </ul>

      
      </li>

      
      
      <li class="li"><strong class="ph b">Ultra-high availability</strong>
        <p class="p">Highly available apps with faster and easier data replication across multiple data centers, and advanced disaster recovery options.</p>

        <ul class="ul">
          <li class="li">Stream-based XDCR (cross data center replication) lowers XDCR latency using memory-to-memory replication of data 
            from the source cluster to the destination cluster -- even before it hits disk.</li>

          <li class="li">Delta-node recovery allows nodes to be quickly added back after they are repaired, 
            so they can catch up incrementally from where they left off.</li>

          <li class="li">Incremental backup and restore allows administrators to quickly backup only modified data in the database, 
            making backup more efficient for larger datasets.</li>

        </ul>

      <p class="p">For more information, see:</p>

        <ul class="ul">
          <li class="li"><a class="xref" href="../XDCR/xdcr-memory-replication.html" title="Stream-based XDCR collects data changes from memory on the source cluster and streams the data changes directly to memory on the destination cluster.">Stream-based XDCR</a> concepts.</li>

          <li class="li"><a class="xref" href="../Concepts/delta-node-recovery.html" title="Delta node recovery allows nodes to be re-added to the cluster and incrementally caught up with the data changes.">Delta node recovery</a> concepts, <a class="xref" href="../UI/ui-task-node-recovery-incremental.html" title="Recovery is performed after a server node is failed over and before rebalance operations. Either Delta or Full recovery can be specified.">Recovering a node</a> via the web console, <a class="xref" href="../CLI/cli-node-recovery-incremental.html" title="To re-add a server node to a cluster, use the couchbase-cli tool and the recovery command with the --recovery-type parameter.">Recovering nodes</a> via the CLI, and <a class="xref" href="../REST/rest-node-recovery-incremental.html" title="The REST request to specify the recovery type for a node uses the /controller/setRecoveryType endpoint URI.">Setting recovery type</a> via the REST API.</li>

          <li class="li"><a class="xref" href="../Tasks/tasks-backup-restore-incremental.html" title="Incremental backup and restore enables administrators to quickly back up only modified data in the database, making backup and restore more efficient for larger data sets. Enterprise Edition only.">Incremental backup and restore</a> concepts, <a class="xref" href="../CLI/cli-increment-backup.html" title="Incremental backups are run by using the cbbackup command-line tool.">Backing up incrementally</a> and <a class="xref" href="../CLI/cli-incremental-restore.html" title="Incremental restore operations are run by using the cbrestore command-line tool.">Restoring incrementally</a>.</li>

        </ul>

      </li>

      
      
      <li class="li"><strong class="ph b">Improved security</strong>
        <p class="p">Secure on-the-wire data access for apps and admins.</p>
<ul class="ul">
          <li class="li">Encrypted admin access enables HTTPS access for the Couchbase admin console and the REST API.</li>

          <li class="li">Encrypted data access with SSL encrypts data in-flight between client and server.</li>

      </ul>

        <p class="p">For more information, see:</p>

        <ul class="ul">
          <li class="li"><a class="xref" href="../Misc/security-admin-access.html" title="Encrypted administrator access provides access using Secure Socket Layer (SSL) authentication. Enterprise Edition only.">Encrypted admin access</a> basics.</li>

          <li class="li"><a class="xref" href="../Misc/security-client-ssl.html" title="The Couchbase Server client libraries support client-side encryption using the Secure Sockets Layer (SSL) protocol. Enterprise Edition only.">Encrypted data access</a> basics.</li>

        </ul>

      </li>

      
      <li class="li"><strong class="ph b">Simplified administration</strong> 
        <p class="p">Easy cluster management and resource governance.</p>

        <ul class="ul">
          <li class="li">Pause and resume XDCR enables XDCR streams between source and destination clusters 
            to be paused during maintenance windows and resumed later, continuing from where they left off.</li>

          <li class="li">Graceful failover enables nodes to be safely removed from the cluster after all in-flight ops are completed.
          </li>

          <li class="li">Bucket priority enables prioritization of buckets so that additional I/O resources can be assigned 
            to higher priority buckets for faster workload execution.</li>

          <li class="li">Cluster-wide diagnostics for improved cluster management.</li>

        </ul>

        <p class="p">For more information, see:</p>

        <ul class="ul">
          <li class="li"><a class="xref" href="../XDCR/xdcr-pause-resume.html" title="During XDCR replication, the process can be paused and resumed.">XDCR pause and resume replication</a> concepts, <a class="xref" href="../UI/ui-xdcr-pause-resume.html" title="XDCR replication can be paused and resumed via the web console under the XDCR section.">Pausing XDCR replication</a> via the web console, <a class="xref" href="../CLI/cli-xdcr-pause-resume.html" title="The XDCR CLI provides options to pause and resume replication with couchbase-cli xdcr-replicate.">Pausing XDCR replication streams</a> via the CLI, and <a class="xref" href="../REST/rest-xdcr-pause-resume.html" title="XDCR replication is paused and resumed using the /settings/replications/ URI path and the pauseRequested option.">Pausing XDCR replication streams</a> via the REST API.</li>

          <li class="li"><a class="xref" href="../Concepts/graceful-failover.html" title="Graceful failover allows administrators to safely failover a node from the cluster after all in-flight operations are completed and without data loss.">Graceful failover</a> concepts, <a class="xref" href="../UI/ui-task-failover-graceful.html" title="Failover is performed on a specific node via Server Nodes &gt; Failover">Failing over a node</a> via the web console, <a class="xref" href="../CLI/cli-failover-graceful.html" title="By default, graceful failover is implemented with failing over a node from a cluster using couchbase-cli failover.">Failing over nodes</a> via the CLI, and <a class="xref" href="../REST/rest-failover-graceful.html" title="Graceful failover is set through the POST /controller/startGracefulFailover HTTP method and URI.">Setting graceful failover</a> via the REST API.</li>

          <li class="li">
            <a class="xref" href="../Concepts/bucket-priority.html" title="Disk I/O priority allows workload priorities to be set at the bucket level.">Disk I/O priority</a> concepts, <a class="xref" href="../UI/ui-task-set-bucket-priority.html" title="The disk I/O priority for a bucket is set via the Data Bucket panel either when creating a data bucket or when editing a data bucket.">Managing disk I/O priority</a> via the web console, <a class="xref" href="../CLI/cli-set-disk-priority.html" title="To set the disk I/O priority for a bucket, use the couchbase-cli tool bucket-create or bucket-edit command and the --bucket-priority=[low|high] option.">Setting bucket priority</a> via the CLI, and <a class="xref" href="../REST/rest-bucket-set-priority.html" title="The disk I/O priority for a bucket is set with the /pools/default/buckets/bucket_name URI and the threadNumber setting.">Setting disk I/O priority</a> via the REST API.</li>

          <li class="li"><a class="xref" href="../Misc/cluster-wide-info-intro.html" title="The Couchbase support team uses logs and other system diagnostics to analyze customer issues.">Cluster-wide diagnostics</a> concepts, <a class="xref" href="../UI/ui-cluster-wide-info.html" title="The web console provides a graphical interface for collecting and sending system diagnostics to the Couchbase support team.">Managing diagnostics</a> via the web console, <a class="xref" href="../CLI/CBcli/cbcli-cluster-wide-info.html" title="You can start, stop, and view status of a diagnostics collection by using the couchbase-cli tool.">Diagnostics with couchbase-cli</a> via the CLI, and <a class="xref" href="../CLI/cbcollect-cluster-wide-info.html" title="You can start, stop, and get collection status by using the cbcollect_info tool.">Diagnostics with cbcollect_info</a> via the CLI.
            </li>

        </ul>

      </li>

      
      <li class="li"><strong class="ph b">Developer empowerment</strong>
      <p class="p">Building richer and more powerful apps.</p>

      <ul class="ul">
        <li class="li">Fully integrated native JSON means your application can work with high level objects 
          which can automatically be serialized to JSON through the Couchbase APIs.</li>

        <li class="li">Powerful async and reactive interfaces in Java , and .NET enable building richer apps, with better IO performance.</li>

        <li class="li">Rich framework integrations with open source frameworks such as Spring, gEvent, twisted and Ottoman.</li>

      </ul>

      </li>

      
    </ul>


    
    
    <div class="section"><h2 class="title sectiontitle">Enterprise Edition only features</h2>
      <p class="p">The following features are only available with Couchbase Server 3.0 Enterprise Edition:</p>

      
      <ul class="ul">
        <li class="li">Incremental backup</li>

        <li class="li">Incremental restore</li>

        <li class="li">Encrypted admin access</li>

        <li class="li">Encrypted data access</li>

        <li class="li">Rack-zone awareness (implemented in Couchbase version 2.5)</li>

      </ul>

      
    </div>

    
    





    <div class="section"><h2 class="title sectiontitle">Couchbase .NET incompatibility</h2>
      <p class="p">An incompatibility between Microsoft Framework 4.0 or earlier, the Couchbase .NET SDK 1.3.7
        or earlier, and Couchbase Server 3.0 has been identified where the URL generated for a View
        operation on a Bucket is improperly encoded. This causes view requests to fail with the
        following message in the body:</p>

      <pre class="pre codeblock">"Design document not found, body: {"error":"not_found","reason":"missing"}"</pre>

      <dl class="dl">
        
          <dt class="dt dlterm">Impact</dt>

          <dd class="dd">The affected Microsoft .NET versions are 4.0 or earlier, Couchbase .NET SDK 1.3.7 or
            earlier, and Couchbase Server 3.0 (including Beta) &gt;= 3.0. Microsoft .NET version 4.5
            changes the way <samp class="ph codeph">Uri.ToString</samp> handles it’s Unicode encoding, which
            resolves the issue, thus clients running on that version or higher of the CLR are not
            impacted. Additionally, Couchbase Server 2.5 and lower are not impacted. <div class="note note"><span class="notetitle">Note:</span> Couchbase .NET 1.3.8 has a patch which resolves the issue for all versions
              of Couchbase Server and Microsoft .NET Frameworks. </div>

          </dd>

        
        
          <dt class="dt dlterm">Workaround</dt>

          <dd class="dd">In addition to the patch released with Couchbase .NET SDK version 1.3.8, add the
            following element to your App.Config or Web.Config to enable support for all SDK and
            Server versions. <pre class="pre codeblock">&lt;uri&gt;
    &lt;iriParsing enabled="true"/&gt;
&lt;uri&gt;
            </pre>

            <p class="p">Customers who are not ready or cannot upgrade their Couchbase .NET SDK’s to 1.3.8 or
              greater are strongly advised to add this element to their deployments if they intend
              to use the Couchbase .NET SDK with Couchbase Server 3.0 or greater.</p>

          </dd>

        

        
          <dt class="dt dlterm">References</dt>

          <dd class="dd"><a class="xref" href="https://connect.microsoft.com/VisualStudio/feedback/details/758479/system-uri-tostring-behaviour-change">https://connect.microsoft.com/VisualStudio/feedback/details/758479/system-uri-tostring-behaviour-change</a></dd>

        
      </dl>

    </div>





    <div class="section"><h2 class="title sectiontitle">Views behavior change</h2>
      <p class="p">The <samp class="ph codeph">stale=false</samp> view query argument has been enhanced. It considers all
        document changes which have been received at the time the query was received. This means
        that using the durability requirements or observe feature to block for persistence in
        application code before issuing the <samp class="ph codeph">false</samp>stale query is no longer needed.
        It is recommended that you remove all such application level checks after completing the
        upgrade to the 3.0 release. </p>

    </div>





    <div class="section"><h2 class="title sectiontitle">Known issues</h2>
      
      <p class="p">N/A</p>

      
    </div>




    <div class="section"><h2 class="title sectiontitle">Fixed issues</h2>
      <p class="p">There are many bugs fixed in this release. Some of the notable fixes include the
        following:</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
          
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="15.919629057187015%" id="d136031e620"><strong class="ph b">Functional area</strong></th>

              <th class="entry" valign="top" width="15.455950540958268%" id="d136031e624"><strong class="ph b">Issue</strong></th>

              <th class="entry" valign="top" width="68.6244204018547%" id="d136031e628"><strong class="ph b">Description</strong></th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" width="15.919629057187015%" headers="d136031e620 ">vBuckets</td>

              <td class="entry" valign="top" width="15.455950540958268%" headers="d136031e624 "><a class="xref" href="http://www.couchbase.com/issues/browse/MB-10059" target="_blank">MB-10059</a></td>

              <td class="entry" valign="top" width="68.6244204018547%" headers="d136031e628 ">Replica vbucket simply ignores rev_seq values of new items from the active
                vbucket.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="15.919629057187015%" headers="d136031e620 ">vBucket</td>

              <td class="entry" valign="top" width="15.455950540958268%" headers="d136031e624 "><a class="xref" href="http://www.couchbase.com/issues/browse/MB-11037" target="_blank">MB-11037</a></td>

              <td class="entry" valign="top" width="68.6244204018547%" headers="d136031e628 ">High replication latency due to the racing in pausing and resuming TAP
                connection notifier.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="15.919629057187015%" headers="d136031e620 ">vBucket</td>

              <td class="entry" valign="top" width="15.455950540958268%" headers="d136031e624 "><a class="xref" href="http://www.couchbase.com/issues/browse/MB-11411" target="_blank">MB-11411</a></td>

              <td class="entry" valign="top" width="68.6244204018547%" headers="d136031e628 ">Warmup with an access log always sets the loaded document's rev-id to
                1.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="15.919629057187015%" headers="d136031e620 ">Views</td>

              <td class="entry" valign="top" width="15.455950540958268%" headers="d136031e624 "><a class="xref" href="http://www.couchbase.com/issues/browse/MB-10921" target="_blank">MB-10921</a></td>

              <td class="entry" valign="top" width="68.6244204018547%" headers="d136031e628 ">File descriptor leak in views with reduce.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="15.919629057187015%" headers="d136031e620 ">Views</td>

              <td class="entry" valign="top" width="15.455950540958268%" headers="d136031e624 "><a class="xref" href="http://www.couchbase.com/issues/browse/MB-11187" target="_blank">MB-11187</a></td>

              <td class="entry" valign="top" width="68.6244204018547%" headers="d136031e628 ">V8 crashes on memory allocation errors, closes erlang on some indexing loads
                .</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="15.919629057187015%" headers="d136031e620 ">Cluster operations</td>

              <td class="entry" valign="top" width="15.455950540958268%" headers="d136031e624 "><a class="xref" href="http://www.couchbase.com/issues/browse/CBSE-1301" target="_blank">CBSE-1301</a></td>

              <td class="entry" valign="top" width="68.6244204018547%" headers="d136031e628 ">Rebalance failing when adding a 2.5.1 hotfix node.</td>

            </tr>

          </tbody>

        </table>
</div>

    </div>

  </div>

</main></div></div><footer><div class="navbar navbar-default navbar-fixed-bottom"><div class="container"><div class="copyright"> © 2014 COUCHBASE All rights reserved. </div></div></div></footer><script type="text/javascript" src="https://www.google.com/jsapi"></script><script>
					(function() {
					var cx = '018016427239405524608:fkg1v30apnm';
					var gcse = document.createElement('script');
					gcse.type = 'text/javascript';
					gcse.async = true;
					gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					'//www.google.com/cse/cse.js?cx=' + cx;
					var s = document.getElementsByTagName('script')[0];
					s.parentNode.insertBefore(gcse, s);
					})();
				</script></body></html>