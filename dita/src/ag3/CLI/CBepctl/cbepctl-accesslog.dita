<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic xml:lang="en-us" id="topic1898">
  <title>Changing access log settings</title>
  <body>
    <p>In Couchbase Server 2.0, we provide a more optimized disk warmup. In past versions of
      Couchbase Server, the server would load all keys and data sequentially from vBuckets in RAM.
      Now the server pre-fetches a list of most-frequently accessed keys and fetches these documents
      first. The server runs a periodic scanner process which will determine which keys are most
      frequently-used. You can use <codeph>cbepctl flush_param</codeph> to change the initial time
      and the interval for the process. You may want to do this, for instance, if you have a peak
      time for your application when you want the keys used during this time to be quickly available
      after server restart.</p>
    
    <note type="note">If you want to change this setting for
      an entire Couchbase cluster, you will need to perform this command on per-node and per-bucket in
      the cluster. By default, any setting you change with `cbepctl` will only be for the named bucket
      at the specific node you provide in the command. This means that if you have a data bucket
      that is shared by two nodes, you will nonetheless need to issue this command twice and provide
      the different host names and ports for each node and the bucket name. Similarly, if you have two
      data buckets for one node, you need to issue the command twice and provide the two data bucket
      names. If you do not specify a named bucket, it will apply to the default bucket or return an
      error if a default bucket does not exist.</note>
    

    <p>By default the scanner process runs once every 24 hours with a default initial start time
      of 2:00 AM UTC. This means after you install a new Couchbase Server 2.0 instance or restart
      the server, by default the scanner will run every 24- hour time period at 2:00 AM GMT and then
      2:00 PM GMT by default. To change the time interval when the access scanner process runs to
      every 20 minutes:</p>
    <codeblock><codeph>&gt; ./cbepctl hostname:port -b bucket_name -p bucket_password set flush_param alog_sleep_time 20
</codeph></codeblock>
    <p>To change the initial time that the access scanner process runs from the default of 2:00 AM
      UTC:</p>
    <codeblock><codeph>&gt; ./cbepctl hostname:port -b bucket_name -p bucket_password set flush_param alog_task_time 23
</codeph></codeblock>
    <p>In this example we set the initial time to 11:00 PM UTC.</p>
    
    <note type="important">Be aware that this tool is a per-node, per-bucket operation. 
      This means that in order to perform this operation, you must specify the IP address of a node in the cluster and a named bucket. 
      If you do not provided a named bucket, the server applies the setting to any
      default bucket that exists at the specified node. In order to perform this operation for an
      entire cluster, perform the command for every node/bucket combination that
      exists for that cluster.</note>
  </body>
</topic>
