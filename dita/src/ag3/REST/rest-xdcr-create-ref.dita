<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic xml:lang="en-us" id="topic2103">
  <title>Creating a destination cluster reference</title>
  <body>
    <p>When you use XDCR, you establish <i>source</i> and <i>destination</i> cluster. A source
      cluster is the cluster from which you want to copy data; a destination cluster is the cluster
      where you want the replica data to be stored. To create a reference to a destination
      cluster:</p>
    <codeblock><codeph>curl -v -u admin:password1 http://10.4.2.4:8091/pools/default/remoteClusters \
-d uuid=9eee38236f3bf28406920213d93981a3  \
-d name=remote1
-d hostname=10.4.2.6:8091
-d username=admin -d password=password2
</codeph></codeblock>
    <p>Replace the <i>admin</i>, <i>password1</i>, <i>password2</i>, <i>10.4.2.4</i>,
        <i>10.4.2.6</i>, <i>9eee38236f3bf28406920213d93981a3</i>, and <i>remote1</i> values in the
      above example with your actual values.</p>
    <p>You provide credentials for the source cluster and information, including credentials and
      UUID for destination cluster. This will generate a request similar to the following
      sample:</p>
    <codeblock><codeph>POST /pools/default/remoteClusters HTTP/1.1
Authorization: Basic QWRtaW5pc3RyYXRvcjpwYXNzd29yZA==
User-Agent: curl/7.21.4 (universal-apple-darwin11.0) libcurl/7.21.4 OpenSSL/0.9.8r zlib/1.2.5
Host: 10.4.2.4:8091
Accept: */*
Content-Length: 114
Content-Type: application/x-www-form-urlencoded
</codeph></codeblock>
    <p>If successful, Couchbase Server will respond with a JSON response similar to the
      following:</p>
    <codeblock><codeph>{"name":"remote1","uri":"/pools/default/remoteClusters/remote1",
"validateURI":"/pools/default/remoteClusters/remote1?just_validate=1",
"hostname":"10.4.2.6:8091",
"username":"Administrator",
"uuid":"9eee38236f3bf28406920213d93981a3",
"deleted":false}
</codeph></codeblock>
    <p>The following describes the response elements:</p>
    <ul>
      <li><p>(String) name: Name of the destination cluster referenced for XDCR.</p></li>
      <li><p>(String) validateURI: URI to validate details of cluster reference.</p></li>
      <li><p>(String) hostname: Hostname/IP (and :port) of the remote cluster.</p></li>
      <li><p>(String) username: Username for the destination cluster administrator.</p></li>
      <li><p>(String) uuid: UUID of the remote cluster reference.</p></li>
      <li><p>(Boolean) deleted: Indicates whether the reference to the destination cluster has been
          deleted or not.</p></li>
    </ul>
    <p>For more information about XDCR and creating references to destination clusters via the
      Couchbase Web Console.</p>
  </body>
  <related-links>
    <linklist><title>Related topics</title>
      <link href="../Tasks/xdcr-configure-replications.dita"/>
    </linklist>
  </related-links>
</topic>
