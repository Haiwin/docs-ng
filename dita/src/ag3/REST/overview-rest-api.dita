<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic xml:lang="en-us" id="topic8607"><title>REST API overview</title><body><p/><p><!--Removed anchor point couchbase-admin-rest--></p><p><!--Removed anchor point couchbase-admin-restapi--></p><p>The Couchbase REST API enables you to manage a Couchbase Server deployment as well as perform operations such as storing design documents and querying for results. The REST API conforms to Representational State Transfer (REST) constraints, in other words, the REST API follows a <b>RESTful</b> architecture.</p><p>Use the REST API to manage clusters, server nodes, and buckets, and to
retrieve run-time statistics within your Couchbase Server deployment. If you
want to develop your own Couchbase-compatible SDK, you will also use the
REST API within your library to handle <i>views</i>. Views enable you to index and
query data based on functions that you define. </p><p>Tip</p><p>
The REST API should *not* be used to read or write data to the server. Data
operations such as `set` and `get` for example, are handled by Couchbase SDKs.
See the <xref href="http://couchbase.com/develop" scope="external" format="html">Couchbase SDKs</xref>.
</p><p>In addition, the Couchbase Web Console uses many of the same REST API endpoints that are used for a REST API request. This is especially for administrative tasks such as creating a new bucket, adding a node to a cluster, or changing cluster settings. </p><p>Please provide RESTful requests; you will not receive any handling instructions,
resource descriptions, nor should you presume any conventions for URI structure
for resources represented. The URIs in the REST API may have a specific URI or
may even appear as RPC or some other architectural style using HTTP operations
and semantics.</p><p>In other words, build your request starting from Couchbase Cluster
URIs, and be aware that URIs for resources may change from version to version.
Also note that the hierarchies shown here enable your reuse of requests, since
they follow a similar pattern for accessing different parts of the system.</p><p>The REST API is built on a number of basic principles:</p><ul>
<li><b>JSON Responses</b></li>
</ul><p>The Couchbase Management REST API returns many responses as JavaScript Object
 Notation (JSON). On that note, you may find it convenient to read responses in a
 JSON reader. Some responses may have an empty body, but indicate the response
 with standard HTTP codes. For more information, see RFC 4627 (
 <xref href="http://www.ietf.org/rfc/rfc4627.txt" scope="external" format="html">http://www.ietf.org/rfc/rfc4627.txt</xref> ) and
 <xref href="http://www.json.org" scope="external" format="html">www.json.org</xref>.</p><ul>
<li><b>HTTP Basic Access Authentication</b></li>
</ul><p>The Couchbase Management REST API uses HTTP basic authentication. The
 browser-based <xref href="../cb-admin/#couchbase-admin-web-console" format="html">Using the Web Console</xref> and
 <xref href="../cb-cli/#couchbase-admin-cmdline" format="html">Command-line Interface</xref> also use
 HTTP basic authentication.</p><ul>
<li><b>Versatile Server Nodes</b></li>
</ul><p>All server nodes in a cluster share the same properties and can handle any
 requests made via the REST API.; you can make a REST API request on any node in
 a cluster you want to access. If the server node cannot service a request
 directly, due to lack of access to state or some other information, it will
 forward the request to the appropriate server node, retrieve the results, and
 send the results back to the client.</p><p>In order to use the REST API you should be aware of the different terms and
concepts discussed in the following sections.</p><p><!--Removed anchor point couchbase-admin-restapi-key-concepts-resources--></p><section><title>Types of resources</title><p>There are a number of different resources within the Couchbase Server and these
resources will require a different URI/RESTful-endpoint in order to perform an
operations:</p></section><section><required-cleanup><title>Server nodes</title><p>A Couchbase Server instance, also known as ‘node’, is a physical or virtual
 machine running Couchbase Server. Each node is as a member of a cluster.</p></required-cleanup></section><section><required-cleanup><title>Cluster/Pool</title><p>A cluster is a group of one or more nodes; it is a collection of physical
 resources that are grouped together and provide services and a management
 interface. A single default cluster exists for every deployment of Couchbase
 Server. A node, or instance of Couchbase Server, is a member of a cluster.
 Couchbase Server collects run-time statistics for clusters, maintaining an
 overall pool-level data view of counters and periodic metrics of the overall
 system. The Couchbase Management REST API can be used to retrieve historic
 statistics for a cluster.</p></required-cleanup></section><section><required-cleanup><title>Buckets</title><p>A bucket is a logical grouping of data within a cluster. It provides a name
 space for all the related data in an application; therefore you can use the same
 key in two different buckets and they are treated as unique items by Couchbase
 Server.</p><p>Couchbase Server collects run-time statistics for buckets, maintaining an
 overall bucket-level data view of counters and periodic metrics of the overall
 system. Buckets are categorized by storage type: 1) memcached buckets are for
 in-memory, RAM-based information, and 2) Couchbase buckets, which are for
 persisted data.</p></required-cleanup></section><section><required-cleanup><title>Views</title><p>Views enable you to index and query data based on logic you specify. You can
 also use views to perform calculations and aggregations, such as statistics, for
 items in Couchbase Server. For more information, see <xref href="../cb-admin/#couchbase-views" format="html">Views and
 Indexes</xref>.</p></required-cleanup></section><section><required-cleanup><title>Cross datacenter replication (XDCR)</title><p>Cross Datacenter Replication (XDCR) is new functionality as of Couchbase Server
 2.0. It enables you to automatically replicate data between clusters and between
 data buckets. There are two major benefits of using XDCR as part of your
 Couchbase Server implementation: 1) enables you to restore data from one
 Couchbase cluster to another cluster after system failure. 2) provide copies of
 data on clusters that are physically closer to your end users. For more
 information, see <xref href="../cb-admin/#couchbase-admin-tasks-xdcr" format="html">Cross Datacenter Replication
 (XDCR)</xref>.</p><p><!--Removed anchor point couchbase-admin-restapi-key-concepts-httpheaders--></p></required-cleanup></section><section><title>HTTP request headers</title><p>You will use the following HTTP request headers when you create your request:</p><p><!--Removed anchor point table-couchbase-admin-restapi-key-concepts-httpheaders--></p><table><tgroup cols="4"><colspec colname="col1"/><colspec colname="col2"/><colspec colname="col3"/><colspec colname="col4"/><thead><row>
	<entry>Header</entry>
	<entry>Supported Values</entry>
	<entry>Description of Use</entry>
	<entry>Required</entry>
</row></thead><tbody><row>
	<entry>Accept</entry>
	<entry>Comma-delimited list of media types or media type patterns.</entry>
	<entry>Indicates to the server what media type(s) this client is prepared to accept.</entry>
	<entry>Recommended</entry>
</row><row>
	<entry>Authorization</entry>
	<entry><codeph>Basic</codeph> plus username and password (per RFC 2617).</entry>
	<entry>Identifies the authorized user making this request.</entry>
	<entry>No, unless secured</entry>
</row><row>
	<entry>Content-Length</entry>
	<entry>Body Length (in bytes)</entry>
	<entry>Describes the size of the message body.</entry>
	<entry>Yes, on requests that contain a message body.</entry>
</row><row>
	<entry>Content-Type</entry>
	<entry>Content type</entry>
	<entry>Describes the representation and syntax of the request message body.</entry>
	<entry>Yes, on requests that contain a message body.</entry>
</row><row>
	<entry>Host</entry>
	<entry>Origin hostname</entry>
	<entry>Required to allow support of multiple origin hosts at a single IP address.</entry>
	<entry>All requests</entry>
</row><row>
	<entry>X-YYYYY-Client-Specification-Version</entry>
	<entry>String</entry>
	<entry>Declares the specification version of the YYYYY API that this client was programmed against.</entry>
	<entry>No </entry>
</row></tbody></tgroup></table><p><!--Removed anchor point couchbase-admin-restapi-key-concepts-httpstatus--></p></section><section><title>HTTP status codes</title><p>The Couchbase Server will return one of the following HTTP status codes in
response to your REST API request:</p><p><!--Removed anchor point table-couchbase-admin-restapi-key-concepts-httpstatus--></p><table><tgroup cols="2"><colspec colname="col1"/><colspec colname="col2"/><thead><row>
	<entry>HTTP Status</entry>
	<entry>Description</entry>
</row></thead><tbody><row>
	<entry>200 OK</entry>
	<entry>Successful request and an HTTP response body returns. If this creates a new resource with a URI, the 200 status will also have a location header containing the canonical URI for the newly created resource.</entry>
</row><row>
	<entry>201 Created</entry>
	<entry>Request to create a new resource is successful, but no HTTP response body returns. The URI for the newly created resource returns with the status code.</entry>
</row><row>
	<entry>202 Accepted</entry>
	<entry>The request is accepted for processing, but processing is not complete. Per HTTP/1.1, the response, if any, SHOULD include an indication of the request’s current status, and either a pointer to a status monitor or some estimate of when the request will be fulfilled.</entry>
</row><row>
	<entry>204 No Content</entry>
	<entry>The server fulfilled the request, but does not need to return a response body.</entry>
</row><row>
	<entry>400 Bad Request</entry>
	<entry>The request could not be processed because it contains missing or invalid information, such as validation error on an input field, a missing required value, and so on.</entry>
</row><row>
	<entry>401 Unauthorized</entry>
	<entry>The credentials provided with this request are missing or invalid.</entry>
</row><row>
	<entry>403 Forbidden</entry>
	<entry>The server recognized the given credentials, but you do not possess proper access to perform this request.</entry>
</row><row>
	<entry>404 Not Found</entry>
	<entry>URI you provided in a request does not exist.</entry>
</row><row>
	<entry>405 Method Not Allowed</entry>
	<entry>The HTTP verb specified in the request (DELETE, GET, HEAD, POST, PUT) is not supported for this URI.</entry>
</row><row>
	<entry>406 Not Acceptable</entry>
	<entry>The resource identified by this request cannot create a response corresponding to one of the media types in the Accept header of the request.</entry>
</row><row>
	<entry>409 Conflict</entry>
	<entry>A create or update request could not be completed, because it would cause a conflict in the current state of the resources supported by the server. For example, an attempt to create a new resource with a unique identifier already assigned to some existing resource.</entry>
</row><row>
	<entry>500 Internal Server Error</entry>
	<entry>The server encountered an unexpected condition which prevented it from fulfilling the request.</entry>
</row><row>
	<entry>501 Not Implemented</entry>
	<entry>The server does not currently support the functionality required to fulfill the request.</entry>
</row><row>
	<entry>503 Service Unavailable</entry>
	<entry>The server is currently unable to handle the request due to temporary overloading or maintenance of the server. </entry>
</row></tbody></tgroup></table></section></body><related-links><linklist><title>Collected links</title><link href="http://couchbase.com/develop" scope="external" format="html"><linktext>Couchbase SDKs</linktext></link><link href="http://www.ietf.org/rfc/rfc4627.txt" scope="external" format="html"><linktext>http://www.ietf.org/rfc/rfc4627.txt</linktext></link><link href="http://www.json.org" scope="external" format="html"><linktext>www.json.org</linktext></link><link href="../cb-admin/#couchbase-admin-web-console" format="html"><linktext>Using the Web Console</linktext></link><link href="../cb-cli/#couchbase-admin-cmdline" format="html"><linktext>Command-line Interface</linktext></link><link href="../cb-admin/#couchbase-views" format="html"><linktext>Views and
 Indexes</linktext></link><link href="../cb-admin/#couchbase-admin-tasks-xdcr" format="html"><linktext>Cross Datacenter Replication
 (XDCR)</linktext></link></linklist></related-links></topic>