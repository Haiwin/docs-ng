<?xml version="1.0" encoding="utf-8"?><?workdir /Users/Ruth/forks/docs-ng/dita/src/ag3/temp/pdf/ag3/REST?><?workdir-uri file:/Users/Ruth/forks/docs-ng/dita/src/ag3/temp/pdf/ag3/REST/?><?path2project ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" xml:lang="en-us" id="topic1364" ditaarch:DITAArchVersion="1.2" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)    " class="- topic/topic " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="topic:1;4:40"><title class="- topic/title " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="title:1;4:47">Retrieving auto-failover settings</title><body class="- topic/body " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="body:1;4:94"><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:1;4:97">Use this request to retrieve any auto-failover settings for a cluster.
Auto-failover is a global setting for all clusters. You need to be authenticated
to read this value. Example:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeblock:1;6:44"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:1;6:52">curl -u admin:password http://localhost:8091/settings/autoFailover
</codeph></codeblock><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:2;7:25">Replace the <i class="+ topic/ph hi-d/i " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="i:1;7:40">admin</i>, <i class="+ topic/ph hi-d/i " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="i:2;7:54">password</i>, and <i class="+ topic/ph hi-d/i " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="i:3;7:75">localhost</i> values in the above example
with your actual values.</p><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:3;8:32">If successful Couchbase Server returns any auto-failover settings for the
cluster:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeblock:2;9:24"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:2;9:32">{"enabled":false,"timeout":30,"count":0}
</codeph></codeblock><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:4;10:25">The following parameters and settings appear:</p><ul class="- topic/ul " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="ul:1;10:78">
<li class="- topic/li " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="li:1;11:5"><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:5;11:8"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:3;11:16">enabled</codeph> : either true if auto-failover is enabled or false if it is not.</p></li>
<li class="- topic/li " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="li:2;12:5"><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:6;12:8"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:4;12:16">timeout</codeph> : seconds that must elapse before auto-failover executes on a cluster.</p></li>
<li class="- topic/li " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="li:3;13:5"><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:7;13:8"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:5;13:16">count</codeph> : can be 0 or 1. Number of times any node in a cluster can be
 automatically failed-over. After one auto-failover occurs, count is set to 1 and
 Couchbase server will not perform auto-failure for the cluster again unless you
 reset the count to 0. If you want to failover more than one node at a time in a
 cluster, you will need to do so manually.</p></li>
</ul><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="p:8;18:9">Possible errors include:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeblock:3;18:48"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:6;18:56">HTTP/1.1 401 Unauthorized
This endpoint isn't available yet.
</codeph></codeblock><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeblock:4;20:33"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:7;20:41">GET /settings/autoFailover HTTP/1.1
Host: localhost:8091
Authorization: Basic YWRtaW46YWRtaW4=
Accept: */*
</codeph></codeblock><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeblock:5;24:33"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST/rest-cluster-autofailover-settings.dita" xtrc="codeph:8;24:41">HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: nnn
{ "enabled": false, "timeout": 30, "count": 0 }
</codeph></codeblock></body><related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:11;15:67" xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="topic" xtrc="topicref:10;14:62" xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/REST.ditamap" href="../REST/rest-cluster-autofailover-intro.dita" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Managing auto-failover</linktext></link></linkpool></related-links>
</topic>