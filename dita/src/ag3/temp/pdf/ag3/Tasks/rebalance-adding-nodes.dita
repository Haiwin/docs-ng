<?xml version="1.0" encoding="utf-8"?><?workdir /Users/Ruth/forks/docs-ng/dita/src/ag3/temp/pdf/ag3/Tasks?><?workdir-uri file:/Users/Ruth/forks/docs-ng/dita/src/ag3/temp/pdf/ag3/tasks/?><?path2project ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="topic_ncd_gdg_q4" ditaarch:DITAArchVersion="1.2" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)    " class="- topic/topic " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="topic:1;3:30">
  <title class="- topic/title " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="title:1;4:10">Adding nodes</title>
  <body class="- topic/body " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="body:1;5:9">
    <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:1;6:8">There are a number of
      methods available for adding a node to a cluster. The result is the same in each case, the node
      is marked to be added to the cluster, but the node is not an active member until you have
      performed a rebalance operation. Nodes can be added to a cluster via the UI, CLI, or REST API.</p>
      
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:2;11:10">When you are performing the Setup of a new Couchbase Server installation, 
        you have the option of joining the new node to an existing cluster.</p>
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:3;13:10">During the first step, you can select the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:1;13:60">Join a cluster now</codeph>
        radio button, as shown in the figure below:</p>
      
      <fig class="- topic/fig " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="fig:1;16:12"><image href="../images/admin-tasks-rebalance-add-setup.png" width="480" placement="inline" class="- topic/image " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="image:1;16:85"/></fig>
      
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:4;18:10">You are prompted for three pieces of
        information:</p>
      
      <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeblock:1;21:18">* `IP Address`

  The IP address of any existing node within the cluster you want to join.

* `Username`

  The username of the administrator of the target cluster.

* `Password`

  The password of the administrator of the target cluster.
</codeblock>
      
      
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:5;35:10">The node will be created as a new cluster, but the pending status of the node within the new
        cluster will be indicated on the Cluster Overview page, as seen in the example
        below:</p>
      
      <fig class="- topic/fig " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="fig:2;39:12"><image href="../images/admin-tasks-rebalance-node-added.png" width="720" placement="inline" class="- topic/image " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="image:2;39:85"/></fig>
    
      
      
      
        <section class="- topic/section " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="section:1;44:18"><title class="- topic/title " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="title:2;44:25">Adding nodes via UI</title>
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:6;45:10">You can add a new node to an existing cluster after installation by clicking the
        <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:2;46:17">Add Server</codeph> button within the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:3;46:63">Manage Server Nodes</codeph> area of the
        Admin Console. You can see the button in the figure below.</p><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:7;47:74"><image href="../images/admin-tasks-rebalance-add-button.png" width="720" placement="inline" class="- topic/image " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="image:3;48:77">
          <alt class="- topic/alt " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="alt:1;49:17"/>
        </image></p><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:8;50:24">You will be presented with a dialog box, as shown below. Couchbase Server should
          be installed, and should have been configured as per the normal setup procedures. You can also
          add a server that has previously been part of this or another cluster using this method. The
          Couchbase Server must be running.</p>
      
      
      <fig class="- topic/fig " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="fig:3;56:12"><image href="../images/admin-tasks-rebalance-add-console.png" width="480" placement="inline" class="- topic/image " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="image:4;56:86"/></fig>
      
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:9;58:10">You need to fill in the requested
        information:</p>
      
      <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeblock:2;61:18">* `Server IP Address`

  The IP address of the server that you want to add.

* `Username`

  The username of the administrator of the target node.

* `Password`

  The password of the administrator of the target node.
</codeblock>
      
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:10;74:10">You
        will be provided with a warning notifying you that the operation is destructive on the
        destination server. Any data currently stored on the server will be deleted, and if the server
        is currently part of another cluster, it will be removed and marked as failed over in that
        cluster.</p>
      
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:11;80:10">Once the information has been entered successfully, the node will be marked as
        ready to be added to the cluster, and the servers pending rebalance count will be updated.</p>
        </section>
      
      
      
        <section class="- topic/section " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="section:2;86:18"><title class="- topic/title " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="title:3;86:25">Adding nodes via REST</title>
     
      
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:12;89:10">With the REST API, you can add nodes to the cluster by providing the IP address,
        administrator username and password as part of the data payload. For example, using
        <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:4;91:17">curl</codeph> you could add a new
        node:</p>
      
      
      <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeblock:3;95:18">
&gt; curl -u cluster-username:cluster-password\
    localhost:8091/controller/addNode \
    -d "hostname=192.168.0.68&amp;user=node-username&amp;password=node-password"
</codeblock>
        </section>
      
      
      
        <section class="- topic/section " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="section:3;104:18"><title class="- topic/title " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="title:4;104:25">Adding nodes via CLI</title>
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:13;105:10">You can use the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:5;105:34">couchbase-cli</codeph> command-line tool to add one or more
        nodes to an existing cluster. The new nodes must have Couchbase Server installed, and Couchbase
        Server must be running on each node.</p><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:14;107:52">To add, run the
          command:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeblock:4;108:34"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:6;108:42">```
&gt; couchbase-cli server-add \
      --cluster=localhost:8091 \
      -u cluster-username -p cluster-password \
      --server-add=192.168.0.72:8091 \
      --server-add-username=node-username \
      --server-add-password=node-password
```
</codeph></codeblock><p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:15;116:25">Where:</p>
      <table class="- topic/table " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="table:1;117:14">
        <tgroup cols="2" class="- topic/tgroup " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="tgroup:1;118:26">
          <colspec colname="col1" class="- topic/colspec " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="colspec:1;119:36"/>
          <colspec colname="col2" class="- topic/colspec " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="colspec:2;120:36"/>
          <thead class="- topic/thead " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="thead:1;121:18">
            <row class="- topic/row " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="row:1;122:18">
              <entry colname="col1" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:1;123:22">Parameter</entry>
              <entry colname="col2" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:2;124:22">Description</entry>
            </row>
          </thead>
          <tbody class="- topic/tbody " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="tbody:1;127:18">
            <row class="- topic/row " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="row:2;128:18">
              <entry colname="col1" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:3;129:22"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:7;129:30">--cluster</codeph></entry>
              <entry colname="col2" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:4;130:22">The IP address of a node in the existing cluster.</entry>
            </row>
            <row class="- topic/row " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="row:3;132:18">
              <entry colname="col1" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:5;133:22"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:8;133:30">-u</codeph></entry>
              <entry colname="col2" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:6;134:22">The username for the existing cluster.</entry>
            </row>
            <row class="- topic/row " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="row:4;136:18">
              <entry colname="col1" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:7;137:22"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:9;137:30">-p</codeph></entry>
              <entry colname="col2" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:8;138:22">The password for the existing cluster.</entry>
            </row>
            <row class="- topic/row " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="row:5;140:18">
              <entry colname="col1" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:9;141:22"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:10;141:30">--server-add</codeph></entry>
              <entry colname="col2" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:10;142:22">The IP address of the node to be added to the cluster.</entry>
            </row>
            <row class="- topic/row " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="row:6;144:18">
              <entry colname="col1" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:11;145:22"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:11;145:30">--server-add-username</codeph></entry>
              <entry colname="col2" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:12;146:22">The username of the node to be added.</entry>
            </row>
            <row class="- topic/row " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="row:7;148:18">
              <entry colname="col1" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:13;149:22"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:12;149:30">--server-add-password</codeph></entry>
              <entry colname="col2" class="- topic/entry " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="entry:14;150:22">The password of the node to be added.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
          
          <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:16;156:14">If the add process is successful, you will see the following
        response:</p>
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeblock:5;158:22">
SUCCESS: server-add 192.168.0.72:8091
</codeblock>
          
          <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:17;162:14">If you receive a failure message, you will be notified of the type of failure.</p>
          <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:18;163:14">You can add  multiple nodes in one command by supplying multiple 
            <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="codeph:13;164:21">--server-add</codeph> command-line options to the command.</p>
      
      
      <note type="note" class="- topic/note " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="note:1;167:25">Once a server has been successfully added, the
        Couchbase Server cluster indicates that a rebalance is required to complete the operation.
      </note>
      <p class="- topic/p " xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/tasks/rebalance-adding-nodes.dita" xtrc="p:19;170:10">You can cancel the addition of a node to a cluster without having to perform a rebalance operation. 
        Canceling the operation removes the server from the cluster without having transferred or exchanged any data, 
        since no rebalance operation took place. 
        You can cancel the operation through the web interface.</p>
        </section>
      
  </body>
<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:54;63:56" xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/Admin.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="topic" xtrc="topicref:47;56:47" xtrf="/Users/Ruth/forks/docs-ng/dita/src/ag3/Admin.ditamap" href="../Tasks/tasks-rebalance.dita" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Rebalancing</linktext></link></linkpool></related-links>
</topic>